# 캐시 메모리

저장장치 계층구조란 두가지 명제를 의미한다. 첫째는 cpu와 가까운 저장장치는 상대적으로 빠르고, 멀리 있는 저장장치는 느리다는 점. 두번째는 속도가 빠른 저장 장치는 저장 용량이 작고, 가격이 비싸다는 점이다.

즉 낮은 가격대의 대용량 저장장치를 원한다면 느린 속도는 감수해야 하고, 빠른 속도의 저장장치를 원한다면 적은용량과 비싼 가격을 감수해야한다.

<br>

## 캐시 메모리

<br>

캐시 메모리는 cpu와 메모리 사이에 위치한 레지스터보다는 용량이 크고 메모리보다는 속도가 빠른 SRAM기반의 저장장치를 말한다.

이는 cpu의 연산속도와 메모리 접근 속도의 차이를 조금이나마 줄이기 위해 만들어졌으며 cpu가 사용할 데이터를 메모리에서 캐시메모리로 가지고 와서 메모리에 접근할 필요없이 캐시메모리에서 사용할 수 있도록 하는 기능을 수행한다.

캐시메모리는 하나가 아니라 여러개로 이루어져 있는데, 일반적으로 L1, L2 캐시는 cpu안, 즉 코어의 내부에 위치하고, L3 캐시는 코어 외부에 위치한다. + 숫자가 작을수록 용량이 작고 속도가 빠르다.

캐시 메모리는 메모리보다 용량이 적기 때문에 메모리의 모든 내용을 저장할 수 없다. 따라서 캐시 메모리에 저장되는 데이터는 자주 사용할 것이라고 예측되는 데이터의 일부분을 저장하게 된다.

예측이 성공하여 cpu가 캐시메모리에 있는 데이터를 사용하는 상황을 캐시히트라고 부르며, 반대로 예측이 실패하여 cpu가 메모리에 접근하여 데이터를 사용하는 상황을 캐시미스라고 부른다.

캐시미스가 자주 발생하면 할수록 cpu가 메모리에 접근하는 빈도가 늘어나기 때문에 그로인해 성능이 떨어지게 된다.

<br>

## 참조 지역성의 원리

<br>

이때 cpu가 참조할 법한 데이터를 예측하는 방법에는 참조 지역성의 원리가 적용된다.
이 원리는 cpu가 메모리에 접근할떄 어떤 주된 경향성을 바탕으로 만들어진 원리이다.

### 1. cpu는 최근에 접근했던 메모리 공간에 다시 접근하려는 경향이 있다.
### 2. cpu는 접근한 메모리 공간 근처를 접근하려는 경향이 있다.

<br>

--- 

<br>


### 참조

<br>

[강의] [개발자를 위한 컴퓨터공학 1: 혼자 공부하는 컴퓨터 구조+운영체제](https://www.inflearn.com/course/%ED%98%BC%EC%9E%90-%EA%B3%B5%EB%B6%80%ED%95%98%EB%8A%94-%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B5%AC%EC%A1%B0-%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C)
