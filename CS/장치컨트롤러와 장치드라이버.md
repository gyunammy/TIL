# 장치 컨트롤러와 장치 드라이버

입출력 장치는 cpu와 메모리에 비해 다루기가 까다로운데 그 이유는 입출력장치는 종류가 다양하고 그에 따라 장치마다 속도, 데이터 전송 형식등도 다양하기 때문이다. 따라서 다양한 입출력장치와 정보를 주고받는 방식을 규격화하기 매우 어렵다.

또한 일반적으로 cpu와 메모리의 데이터 전송률은 높지만 그에비해 입출력장치의 데이터 전송률은 낮다.
여기서 데이터 전송률이란 데이터를 얼마나 빨리 교환할 수 있는지를 나타내는 지표를 말한다.

이러한 이유들 때문에 입출력장치는 장치 컨트롤러를 통해 컴퓨터와 연결된다. 장치 컨트롤러는 입출력 제어기, 입출력 모듈 이라고도 하며 모든 입철력장치는 장치컨트롤러라는 하드웨어를 통해서 컴퓨터와 정보를 주고 받게된다.

<br>

## 장치컨트롤러의 역할

<br>

### 1. cpu와 입출력 장치간의 통신중개

<br>

입출력장치마다 데이터 전송 형식이 다른데, 입출력장치로부터 전송되어지는 데이터가 장치컨트롤러에 의해 규격화된 데이터로 변환되어 cpu가 읽을 수 있게 일종의 번역가 역할을 하게 된다.

<br>

### 2. 오류 검출

<br>

### 3. 데이터 버퍼링

<br>

버퍼링이란 전송률이 높은 장치와 낮은 장치 사이에 주고 받는 데이터를 버퍼라는 임시 저장 공간에 저장하여 전송률을 비슷하게 맞추는 방법을 말한다. 이는 입출력장치에만 사용하는 기술이 아니라 컴퓨터 전반적으로 사용되는
기술이다.

<br>

## 장치 컨트롤러의 구조

<br>

장치 컨트롤러는 입출력 역할을 하는 입출력 버스와 연결되어 데이터를 주고 받게 된다. 주고받는 데이터의 종류는 총 3개로, 데이터, 상태, 제어 데이터로 나눌 수 있고 각각 해당하는 레지스터에서 저장되어 활용되어 진다.

<br>

### 1. 데이터 레지스터

<br>

cpu와 입출력장치 사이에 주고 받을 데이터가 담기는 레지스터이며, 버퍼의 역할을 한다.

<br>

### 2. 상태 레지스터

<br>

입출력장치가 입출력 작업을 할 준비가 되었는지, 입출력 작업이 완료되었는지, 오류가 있는지와 같은
상태에 대한 정보가 담기는 레지스터이다.
 
<br>

### 3. 제어 레지스터

<br>

입출력장치가 수행할 내용에 대한 제어정보가 담기는 레지스터이다.
몇몇의 입출력장치에서는 상태 레지스터와 제어레지스터가 하나의 레지스터로 운용되기도 한다.

<br>

## 장치 드라이버

<br>

장치 드라이버는 장치 컨드롤러의 동작을 감지하고 제어하는 프로그램을 말한다.

장치 컨트롤러가 입출력장치를 연결하기 위한 하드웨어적인 통로라면, 장치 드라이버는
입출력장치를 연결하기 위한 소프트웨어적인 통로라고 할 수 있다.

컴퓨터(운영체제)가 연결된 장치의 드라이버를 인식하고 실행할 수 있다면 컴퓨터 내부의 정보를 주고 받을 수 있다. 반대로 컴퓨터(운영체제)가 장치 드라이버를 인식하거나 실행할 수 없다면 그 장치는 컴퓨터 내부와 정보를 주고 받을 수 없다.

<br>

--- 

<br>


### 참조

<br>

[강의] [개발자를 위한 컴퓨터공학 1: 혼자 공부하는 컴퓨터 구조+운영체제](https://www.inflearn.com/course/%ED%98%BC%EC%9E%90-%EA%B3%B5%EB%B6%80%ED%95%98%EB%8A%94-%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B5%AC%EC%A1%B0-%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C)
