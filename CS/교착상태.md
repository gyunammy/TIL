# 교착상태

교착상태란 각각의 프로세스들이 가지고있는 자원들을 서로 기다리고 있는 상황에서는 어떠한 프로세스나 스레드는 실행될 수 없다. 

이러한 상태를 교착상태라고 한다. 즉 사용할 수 없는 자원을 기다리며 무한정 대기상태에 빠져 진행이 멈춰버리는 현상을 교착상태라고 한다.

이러한 교착상태를 해결하기 위해서는 교착 상태가 발생했을 때의 상황을 정확히 표현할 수 있어야 하며, 또한 교착 상태가 일어나는 근본적인 이유를 이해하고 있어야 한다.

교착상태를 표현하기 위한 그래프가 존재하는데 바로 자원할당그래프이다. 자원할당그래프를 통해 교착상태발생 조건파악이 가능하며 어떠한 프로세스가 어떤 자원을 할당받아 사용중인지 확인 가능하고, 어떤 프로세스가 어떤 자원을 기다리고 있는지 확인이 가능하다.

<br>

## 자원할당 그래프

<br>

자원할당 그래프를 표현하는 방법은 다음과 같다.

<br>

### 자원할당 그래프는 프로세스는 원으로, 자원의 종류는 사각형으로 표현한다. 
### 사용할 수 있는 자원의 개수는 자원 사각형 내에 점의 갯수로 표현한다.
### 프로세스가 어떤 자원을 할당 받아 사용중이라면 자원에서 프로세스를 향해 화살표를 표시한다.
### 프로세스가 어떤 자원을 기다리고 있다면 프로세스에서 자원으로 화살표를 표시한다. 

<br>

교착상태가 일어난 그래프의 특징으로는 자원할당 그래프가 원의 형태를 띄고 있다는 점이다. 하지만 원의형태를 띄고 있다하여 반드시 교착상태가 일어나는 것은 아니다.

교착상태가 발생할 조건으로는 다음과 같다.

<br>

### 1. 상호배제 : 한 프로세스가 사용하는 자원을 다른 프로세스가 사용할 수 없는 상태
### 2. 점유와 대기 : 자원을 할당 받은 상태에서 다른 자원을  할당 받기를 기다리는 상태
### 3. 비선점 : 어떤 프로세스도 다른 프로세스의 자원을 강제로 빼앗지 못하는 상태
### 4. 원형 대기 : 프로세스들이 원의 형태로 자원을 대기하는 상태

<br>

위의 네가지 조건중 하나라도 만족하지 않으면 교착상태가 발생하지 않으며 위의 네가지 조건을 모두 만족할 경우에는 교착상태가 발생할 수 있다.

<br>

--- 

<br>

### 참조

<br>

[강의] [개발자를 위한 컴퓨터공학 1: 혼자 공부하는 컴퓨터 구조+운영체제](https://www.inflearn.com/course/%ED%98%BC%EC%9E%90-%EA%B3%B5%EB%B6%80%ED%95%98%EB%8A%94-%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B5%AC%EC%A1%B0-%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C)
