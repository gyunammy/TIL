# 연속 메모리 할당

연속 메모리 할당은 프로세스에 연속적인 메모리 공간을 할당하는 것을 말한다.

<br>

## 스와핑

<br>

스와핑은 운영체제가 제공하는 메모리관리기능이며 현재 사용되지 않는 프로세스들을 보조기억장치의 일부영역인 스왑영역으로 이동시키고 그렇게 생긴 비어있는 공간에 메모리가 필요한 새로운 프로세스를 적재하는 방법을 말한다.

스와핑시 메모리에서 보조기억장치로 이동하는 과정을 스왑 아웃이라하며, 반대로 보조기억장치의 스왑 영역에 있는 프로세스가 다시 메모리의 공간을 할당받는 과정을 스왑 인 이라고 한다.

스와핑을 사용함으로써 얻을 수 있는 효과는 실제 메모리 크기보다 여러 프로세스들이 요구하는 메모리 공간 크기가 클 경우에도 스와핑을 통해
실행시킬 수 있다는 점이 있다.

<br>

## 메모리 할당

<br>

프로세스는 메모리의 빈 공간에 할당되어야 한다. 연속 메모리 할당을 사용할 경우 세가지 방법이 있다.

<br>

### 1. 최초 적합

<br>

first-fit 이라고도 하며 운영체제가 메모리 내의 빈 공간을 순서대로 검색하다 적재할 수 있는 공간을 발견하면 그 공간에 프로세스를 배치하는 방법이다. 최초 적합의 특징으로는 검색 최소화, 빠른 할당이 있다.

<br>

### 2. 최적 적합

<br>

best-fit이라고도 하며 운영체제가 현재 메모리상의 비어있는 공간을 모두 파악한 뒤에 적재 가능한 공간 중 가장 작은 공간에 프로세스를 배치하는 방법이다.

<br>

### 3. 최악 접합

<br>

worst-fit이라고도 하며 운영체제가 현재 메모리상의 비어있는 공간을 모드 파악한 뒤 가장 큰 공간에 프로세스를 배치하는 방법이다.

연속메모리 할당 방법은 메모리를 효율적으로 사용하는 방법이 아니다. 그 이유는 외부 단편화 라는 문제가 발생하기 때문이다.

<br>

## 외부 단편화

<br>

외부 단편화란 프로세스들이 메모리에 적재되고 종료되길 반복하면서 메모리 사이사이에 빈 공간이 발생하고 이 공간은 프로세스가 할당받기 어려울만큼 작은 메모리를 가지게 된다. 

결국 메모리가 비어있음에도 사용하지 못하기 때문에 메모리가 낭비되는 현상을 바로 외부 단편화라 한다.

<br>

## 외부 단편화 해결 방법

<br>

### 메모리 압축 

<br>

여기저기 흩어져 있는 빈 공간들을 하나로 모으는 방식으로, 프로세스를 적당히 재배치시켜 흩어져 있는 작은 공간들을 하나의 큰 빈 공간으로 만드는 방법이다.
 
이 방법은 실행중인 프로세스들의 메모리상의 공간을 변경하고, 여러 곳에 흩어져있는 공간들을 하나로 합치는 과정에서 많은 오버헤드가 발생하게 되고, 당연히 위치변경중에는 실행중인 프로세스가 재대로 작동할 수 없다는 부작용이 존재한다.

<br>

--- 

<br>

### 참조

<br>

[강의] [개발자를 위한 컴퓨터공학 1: 혼자 공부하는 컴퓨터 구조+운영체제](https://www.inflearn.com/course/%ED%98%BC%EC%9E%90-%EA%B3%B5%EB%B6%80%ED%95%98%EB%8A%94-%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B5%AC%EC%A1%B0-%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C)
