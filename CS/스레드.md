# 스레드

스레드는 프로세스를 구성하는 실행 흐름의 단위를 말한다. 하나의 프로세스는 하나이상의 스레드를 가질 수 있다.

다수의 스레드를 가지고 있는 프로세스를 멀티 스레드 프로세스라 하며, 프로세스를 이루는 여러 명령어를 동시에 실행할 수 있다.

## 스레드의 구성요소

스레드에는 스레드id 와 프로그램 카운터를 비롯한 레지스터 값, 스택 등 실행에 필요한 최소한의 정보를 가지고 있다.
  
프로세스를 이루는 각각의 스레드들은 프로세스의 자원을 공유하며 실행이 된다. 다시말해 각각의 스레드가 독립적인 실행흐름을 
가지고 있을뿐, 모두 같은 데이터 영역과 코드영역을 공유하며 사용하게 된다.

<br>

## 단일스레드와 멀티스레드의 차이

<br>

서로 동일한 작업을 단일 스레드로 실행하는 것과 멀티 스레드로 실행하는 것의 차이는 다음과 같다.

서로 다른 프로세스들은 자원을 공유하지 않지만, 하나의 프로세스내의 여러 스레드는 서로 같은 자원을 공유한다.

프로세스를 fork하면 코드/데이터/힙 영역 등 모든 자원이 복제되어 저장된다. 따라서 저장된 메모리주소를 제외하고 모두 동일한 프로세스가 통째로 적재된다.

한 프로세스안의 여러 스레드들은 독립적인 실행에 꼭 필요한 요소들을 제외하면 프로세스가 가지고 있는 모든 자원을 공유한다.

따라서 단일 스레드인 경우는 각각 독립적으로 실행되며, 멀티 스레드인 경우에는 자원을 공유하며 실행되기 때문에 협력과 통신에 유리하다고 할 수 있다.

하지만 자원을 공유하고 있기 때문에 자원에 문제가 생길 경우 해당 프로세스내에 존재하는 모든 스레드가 영향을 받기 때문에 문제가 커질 수 있다.

스레드보다 복잡하지만 프로세스 간에도 자원을 주고 받을 수 있다. 이를 프로세스 간 통신 (IPC)라 한다.

<br>

--- 

<br>

### 참조

<br>

[강의] [개발자를 위한 컴퓨터공학 1: 혼자 공부하는 컴퓨터 구조+운영체제](https://www.inflearn.com/course/%ED%98%BC%EC%9E%90-%EA%B3%B5%EB%B6%80%ED%95%98%EB%8A%94-%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B5%AC%EC%A1%B0-%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C)
