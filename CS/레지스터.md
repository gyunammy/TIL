# 레지스터

<br>

레지스터는 CPU 내부의 작은 임시저장장치를 말하며 프로그램 속 명령어 & 데이터는 실행 전후로 레지스터에 저장된다.

레지스터의 는 역할에 따라 다른 데이터를 담으며, 또한 CPU 종류에 따라 종류가 상이하다. 그럼에도 불구하고 많은 CPU가 공통적으로 가지고 있는 레지스터가 존재하는데 이는 다음과 같다.

### 1. 프로그램 카운터

<br>

메모리에서 가져올 명령어의 조수를 저장한다. (메모리에서 읽어 들일 명령어의 주소)
cpu종류에 따라 프로그램 카운터를 명령어 포인터라고 명칭하기도 한다.

<br>


### 2. 명령어 레지스터

<br>

해석할 명령어를 저장한다. (방금 메모리에서 읽어들인 명령어) 명령어 레지스터에 담긴
명령어는 제어장치가 받아들어 해석한다.

<br>

### 3. 메모리 주소 레지스터

<br>

메모리의 주소를 저장한다. cpu가 읽고자 하는 주소를 주소 버스로 보낼때 거치는 레지스터이다. 즉 cpu에서 접근할 메모리의 특정 주소가 메모리 주소 레지스터에 담기게 된다. (프로그램 카운터에 담긴 값이 복사되어 저장된다.)

<br>

### 4. 메모리 버퍼 레지스터

<br>

메모리와 주고받을 값을 저장한다. cpu가 정보를 데이터 버스로 주고 받을때 거치는 레지스터이다. 즉 메모리에 담긴 데이터가 메모리 버퍼 레지스터에 담기게 된다.

데이터가 레지스터에 담긴 후에는 프로그램 카운터에 담긴 메모리 주소값이 +1 증가하여
저장되고 다음 명령을 실행하게 된다. 

메모리에서 가져온 데이터를 사용하기 위해서는 데이터를 해석해야 하기 때문에 메모리 버퍼 레지스터에 있는 데이터를 복사하여 명령어 레지스터에 저장한다.

<br>

### 5. 플래그 레지스터

<br>

연산결과 또는 CPU 상태에 대한 부가적인 정보

<br>

### 6. 범용 레지스터

<br>

다양하고 일반적인 사오항에서 자유롭게 사용

<br>

### 7. 스택 포인터 

<br>

스택 포인터는 스택 주소 지정 방식에서 사용되는 레지스터이며 스택의 꼭대기를 가리키는 레지스터이다. 즉 스택이 어디까지 차있는지에 대한 표시이다.

<br>

## 특정 레지스터를 이용한 주소 지정 방식

<br>

변위 주소 지정 방식은 오퍼랜드 필드의 값과 특정 레지스터의 값을 더해서 유효 주소를 얻는 방법을 말하며 특정 레지스터가 어떤 레지스터를 사용하느냐에 따라 방식이 달라진다. 

<br>

### 1. 상대 주소 지정 방식

<br>

오퍼랜드 필드의 값과 프로그램 카운터의 값을 더해서 유효주소를 얻는 방법을 말한다. 

프로그램 카운터에는 cpu가 다음으로 읽어들일 메모리의 주소가 담겨있기 때문에 만약 
프로그램 카운터에 1000 이 저장되어 있고 오퍼랜드 필드의 값이 -3 이라고 가정했을때
cpu는 다음으로 읽어들일 메모리 주소 1000에서 -3을 한 997 메모리 주소에 접근하게 된다.

<br>

### 2. 베이스 레지스터 주소 지정 방식

<br>

오퍼랜드 필드의 값과 베이스 레지스터의 값을 더해서 유효주소를얻는 방법을 말한다.

베이스 레지스터는 기준이되는 주소라고 할 수 있으며 베이스 레지스터에 담기는 메모리 주소가 기준이 된다. cpu는 오퍼랜드 필드의 값과 더해서 기준이 되는 메모리 주소에서 오퍼랜드 필드의 값만큼 떨어진 메모리 주소에 접근하게 된다.


<br>

--- 

<br>

### 참조

<br>

[강의] [개발자를 위한 컴퓨터공학 1: 혼자 공부하는 컴퓨터 구조+운영체제](https://www.inflearn.com/course/%ED%98%BC%EC%9E%90-%EA%B3%B5%EB%B6%80%ED%95%98%EB%8A%94-%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B5%AC%EC%A1%B0-%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C)
