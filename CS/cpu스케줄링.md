# CPU 스케줄링 개요

CPU 스케줄링이란 운영체제가 프로세스들에게 공정하고 합리적으로 cpu자원을 배분하는 것을 말한다.

가장 공정한 cpu 스케줄링이란 요청이 들어온 프로세스들을 줄세워 cpu 자원을 배분하는 것과는 거리가있다. 그 이유는 프로세스마다 우선순위라는 것이 있어서 어떤 프로세스는 가능한 빨리 처리되야 하는 반면 어떠한 프로세스는 비교적 급하지않은 요청을 보낼 수도 있기 때문이다.

프로세스의 우선순위는 운영체제가 내부적으로 지정한 것도 있으며 사용자가 우선순위를 지정할 수도 있다.

대개 입출력 작업이 많은 프로세스의 우선순위가 cpu 작업이 많은 프로세스의 우선순위보다 높으며 입출력 작업이 많은 프로세스를 입출력 집중 프로세스, cpu작업이 많은 프로세스를 cpu 집중 프로세스라고 한다.

프로세스가 요구하는 자원, 프로세스의 중요도와 같은 조건을 모두 고려하여  프로세스가 cpu의 자원을 이용할 수 있도록 하기위해 운영체제가 부여하는것이 바로 프로세스 우선순위이다. 우선순위정보는 프로세스의 PCB에 저장된다.

<br>

## 스케줄링 큐

<br>

스케줄링 큐는 다수의 프로세스의 다양한 요청을 효과적으로 정리하여 cpu자원을 배분하기 위해 사용되는 큐이다. 프로세스들의 요청하는 종류에 따라 큐에 저장하여 운영체제는 보다 쉽게 다양한 프로세스의 요청들을 파악할 수 있게 된다.

ex) cpu사용을 요청하는 프로세스, 하드디스크사용을 요청하는 프로세스, 프린터사용을 요청하는 프로세스 ...

스케줄링 큐는 여러 종류로 나뉘며 대표적으로 준비큐와 레디큐가 있다.

준비큐는 cpu를 이용할 준비가 다 되었지만 자신의 차례가 오질않아서 순서를 기다리는 프로세스들이 저장되는 큐이며 대기큐는 cpu를 이용하기 전에 입출력장치를 이용하기 위해 프로레스들이 저장되는 큐를 말한다.

대기큐에 있던 프로세스가 입출력완료되어 인터럽트를 발생시키면 해당 프로세스는 대기큐에서 준비큐로 이동한다.

큐에 저장되어있다 하더라도 저장된 순서대로 자원을 사용하는 것이 아니라 우선순위를 고려하여 순서가 바뀔수도 있다.

<br>

## 선점형과 비선점형 스케줄링

<br>

하나의 프로세스가 cpu자원을 받아 실행하고 있을때 지금 실행중인 프로세스보다 우선순위가 높은 프로세스가 cpu자원을 요청하게 되면 두가지 방법을 따르게 된다.

<br>

### 1. 현재 cpu를 사용중인 프로세스로부터 cpu 자원을 빼앗아 우선순위가 높은 프로세스에 할당한다.

### 2. 현재 cpu를 사용중인 프로세스의 작업이 끝날 때까지 우선순위가 높은 프로세스를 대기시킨다.

<br>

1번과 같은 방법을 선점형 스케줄링이라하며, 2번과 같은 비선점형 스케줄링이라 한다.

선점형 스케줄링은 어느 한 프로세스의 자원 독점을 막고 프로세스들에게 골고루 자원을 배분할 수 있다는 장점이 있으며 그만큼 문맥 교환 과정에서 오버헤드가 발생할수 있다는 단점이 있다.

비선점형 스케줄링은 선점형 스케줄링에 비해 문맥 교환에서 발생하는 오버헤드가 적다는 장점이 있으며 프로세스가 골고루 자원을 이용하기 어렵다는 단점이 있다.

<br>

--- 

<br>

### 참조

<br>

[강의] [개발자를 위한 컴퓨터공학 1: 혼자 공부하는 컴퓨터 구조+운영체제](https://www.inflearn.com/course/%ED%98%BC%EC%9E%90-%EA%B3%B5%EB%B6%80%ED%95%98%EB%8A%94-%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B5%AC%EC%A1%B0-%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C)
